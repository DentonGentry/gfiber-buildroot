From 85b64ff5052a6d299820fa1704793ebb1475e2bf Mon Sep 17 00:00:00 2001
From: Avery Pennarun <apenwarr@gmail.com>
Date: Fri, 24 Jan 2014 03:09:49 -0500
Subject: [PATCH 09/11] mwifiex: remove custom regulatory domain stuff.

Just use the cfg80211 regulatory domain, which in our build, we know we've
configured correctly for our region.
---
 drivers/net/wireless/mwifiex/cfg80211.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/net/wireless/mwifiex/cfg80211.c b/drivers/net/wireless/mwifiex/cfg80211.c
index 915c87c..9e0fa5d 100644
--- a/drivers/net/wireless/mwifiex/cfg80211.c
+++ b/drivers/net/wireless/mwifiex/cfg80211.c
@@ -2549,11 +2549,15 @@ int mwifiex_register_cfg80211(struct mwifiex_adapter *adapter)
 	wiphy->flags |= WIPHY_FLAG_HAVE_AP_SME |
 			WIPHY_FLAG_AP_PROBE_RESP_OFFLOAD |
 			WIPHY_FLAG_AP_UAPSD |
+#if WANT_CUSTOM_REG
 			WIPHY_FLAG_CUSTOM_REGULATORY |
 			WIPHY_FLAG_STRICT_REGULATORY |
+#endif
 			WIPHY_FLAG_HAS_REMAIN_ON_CHANNEL;
 
+#if WANT_CUSTOM_REG
 	wiphy_apply_custom_regulatory(wiphy, &mwifiex_world_regdom_custom);
+#endif
 
 #ifdef CONFIG_PM
 	wiphy->wowlan = &mwifiex_wowlan_support;
-- 
1.9.0.279.gdc9e3eb

